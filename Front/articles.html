<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion Clientels - Suivi des nouveaux branchements </title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="styles.css">
    <!-- Ajout de m√©ta-donn√©es SEO -->
    <meta name="description"
        content="Solution de gestion client√®le sp√©cialis√©e dans le suivi des branchements - Cr√©ation de devis, facturation et suivi technique">
    <meta name="keywords" content="gestion client, branchements, devis, facturation, suivi technique">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const token = sessionStorage.getItem("token");

            if (!token) {
                window.location.href = "index.html"; // üîÑ Rediriger vers la page de connexion si pas de token
            }
        });
    </script>
</head>

<body>
    <header class="header">
        <a href="#" class="logo">Logo</a>
        <nav class="navbar">
            <!-- Accueil -->
            <div class="dropdown">
                <a href="index.html" class="active">Acceuil</a>
            </div>

            <!-- Client avec sous-menu -->
            <div class="dropdown">
                <a href="clients.html">Client</a>
            </div>

            <!-- Devis avec sous-menu -->
            <div class="dropdown">
                <a href="#">Article</a>
                <div class="submenu">
                    <a href="articles.html">Cr√©er un article</a>
                    <a href="#">Liste des articles</a>
                    <a href="#">Modifier un article</a>
                </div>
            </div>

            <!-- Factures avec sous-menu -->
            <div class="dropdown">
                <a href="#">Factures</a>
                <div class="submenu">
                    <a href="#">Cr√©er une facture</a>
                    <a href="#">Liste des factures</a>
                    <a href="#">Modifier une facture</a>
                </div>
            </div>

            <!-- Contact avec sous-menu -->
            <div class="dropdown">
                <a href="#">Contact</a>
                <div class="submenu">
                    <a href="#">Nous contacter</a>
                    <a href="#">Support technique</a>
                    <a href="#">FAQ</a>
                </div>
            </div>
        </nav>
        <div class="menu-icon" onclick="toggleMenu()">
            <i class='bx bx-menu'></i>
        </div>
    </header>

    <body>

        <form action="/submit-article" method="post" class="form-container" id="articleForm">
            <fieldset class="form-section">
                <legend class="form-title">Informations G√©n√©rales</legend>
    
                <div class="form-row">
                    <div class="form-group">
                        <label for="nom_article" class="form-label">Nom de l'article :</label>
                        <input type="text" id="nom_article" name="nom_article" class="form-input" required>
                    </div>
    
                    <div class="form-group">
                        <label for="unite" class="form-label">Unit√© :</label>
                        <select id="unite" name="unite" class="form-input" required onchange="toggleFields()">
                            <option value="ml">M√®tre lin√©aire (ml)</option>
                            <option value="m2">M√®tre carr√© (m¬≤)</option>
                            <option value="m3">M√®tre cube (m¬≥)</option>
                            <option value="unite">Unit√©</option>
                        </select>
                    </div>
    
                    <div class="form-group" id="diametreField">
                        <label for="diametre" class="form-label">Diam√®tre (mm) :</label>
                        <input type="number" id="diametre" name="diametre" class="form-input" step="0.1">
                    </div>
                </div>
    
                <label for="materiau" class="form-label">Type de Mat√©riau :</label>
                <select id="materiau" name="materiau" class="form-input" required>
                    <option value="">S√©lectionnez un mat√©riau</option>
                    <option value="cuivre">Cuivre</option>
                    <option value="pvc">PVC [Polychlorure de vinyle]</option>
                    <option value="per">PER [ Poly√©thyl√®ne R√©ticul√©]</option>
                    <option value="pehd">PEHD [Poly√©thyl√®ne Haute Densit√©]</option>
                    <option value="multicouche">Multicouche</option>
                    <option value="galvanis√©">Acier Galvanis√©</option>
                    <option value="fonte">Fonte</option>
                    <option value="inox">Acier Inoxydable</option>
                    <option value="laiton">Laiton</option>
                    <option value="autre">Autre</option>
                </select>
    
                <label for="rubrique" class="form-label">Rubrique :</label>
                <select id="rubrique" name="rubrique" class="form-input" required>
                    <option value="">S√©lectionnez une rubrique</option>
                    <option value="terrassement">Terrassement</option>
                    <option value="canalisations">Canalisations et Tuyauterie</option>
                    <option value="pieces_speciales">Pi√®ces Sp√©ciales</option>
                    <option value="frais_supplementaires">Frais Cautionnements</option>
                    <option value="autres">Autres</option>
                </select>
            </fieldset>
    
            <fieldset class="form-section">
                <legend class="form-title">Tarification</legend>

                <label for="prix_achat" class="form-label">Prix Hors Taxe :</label>
                <input type="number" id="prix_achat" name="prix_achat" class="form-input" step="0.01" required>
                
                <label for="prix_forniture" class="form-label">Prix de Fourniture :</label>
                <input type="number" id="prix_forniture" name="prix_forniture" class="form-input" step="0.01" required>
    
                <label for="prix_pose" class="form-label">Prix de Pose :</label>
                <input type="number" id="prix_pose" name="prix_pose" class="form-input" step="0.01" required>
            </fieldset>
    
            <button type="submit" class="btn">Enregistrer l'article</button>
        </form>

        <script>
            function toggleFields() {
                var unite = document.getElementById("unite").value;
                var diametreField = document.getElementById("diametreField");

                if (unite === "ml" || unite === "unite") {
                    diametreField.style.display = "block";
                    document.getElementById("diametre").disabled = false;
                } else {
                    diametreField.style.display = "none";
                    document.getElementById("diametre").disabled = true;
                    document.getElementById("diametre").value = ""; // R√©initialiser si d√©sactiv√©
                }
            }

            document.getElementById("articleForm").addEventListener("submit", function (event) {
                var nomArticle = document.getElementById("nom_article").value;
                var prixAchat = document.getElementById("prix_achat").value;
                var prixVente = document.getElementById("prix_vente").value;

                if (nomArticle.trim() === "" || prixAchat <= 0 || prixVente <= 0) {
                    event.preventDefault(); // Bloque l'envoi du formulaire
                    alert("Veuillez remplir tous les champs obligatoires et v√©rifier les prix.");
                }
            });

            // Initialisation au chargement de la page
            window.onload = toggleFields;

        </script>
        <script src="articles.js"></script>
    </body>

</html>



<footer class="footer">
    <div class="footer-content">
        <p>&copy; 2025 Gestion Client√®le. Tous droits r√©serv√©s.</p>
        <ul class="footer-links">
            <li><a href="#">Mentions l√©gales</a></li>
            <li><a href="#">Politique de confidentialit√©</a></li>
            <li><a href="#">Conditions d'utilisation</a></li>
        </ul>
    </div>
</footer>
<!-- <script src="main.js" defer></script> -->


</body>

</html>